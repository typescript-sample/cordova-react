(this["webpackJsonpio.cordova.hellocordova"]=this["webpackJsonpio.cordova.hellocordova"]||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(9),u=n.n(a),c=(n(14),n(2)),s=n(4),i=n.p+"static/media/logo.6ce24c58.svg",o=(n(15),n(3)),l=n(5),d=n(6);var f=function(){function e(t){Object(l.a)(this,e),this.database=t,this.exec=this.exec.bind(this),this.execBatch=this.execBatch.bind(this),this.query=this.query.bind(this),this.queryOne=this.queryOne.bind(this),this.execScalar=this.execScalar.bind(this),this.count=this.count.bind(this)}return Object(d.a)(e,[{key:"exec",value:function(e,t){return b(this.database,e,t)}},{key:"execBatch",value:function(e){return h(this.database,e)}},{key:"query",value:function(e,t,n,r){return j(this.database,e,t,n,r)}},{key:"queryOne",value:function(e,t,n,r){return v(this.database,e,t,n,r)}},{key:"execScalar",value:function(e,t){return O(this.database,e,t)}},{key:"count",value:function(e,t){return function(e,t,n){return O(e,t,n)}(this.database,e,t)}}]),e}();function h(e,t){return new Promise((function(n,r){return e.transaction((function(e){t.forEach((function(t){e.executeSql(t.query,m(t.params))}))}),(function(e){console.log(e),r(e)}),(function(){n(1)}))}))}function b(e,t,n){var r=n?m(n):[];return console.log({p:r}),new Promise((function(n,a){return e.transaction((function(e){e.executeSql(t,r,(function(){return n(1)}),(function(e){return console.log({err:e}),a(0)}))}))}))}function j(e,t,n,r,a){var u=n||[];return new Promise((function(n,c){return e.transaction((function(e){e.executeSql(t,u,(function(e,t){return n(p(t.rows._array,r,a))}))}),(function(e){c(e)}))}))}function v(e,t,n,r,a){var u=n||[];return new Promise((function(n,c){return e.transaction((function(e){e.executeSql(t,u,(function(e,t){return t.rows&&t.rows._array&&t.rows.length>0?n(function(e,t,n){if(null==e||void 0===e||!t&&(!n||0===n.length))return e;return p([e],t,n),e}(t.rows._array,r,a)):n(null)}))}),(function(e){c(e)}))}))}function O(e,t,n){return v(e,t,n).then((function(e){return e?e[Object.keys(e)[0]]:null}))}function m(e){if(!e||0===e.length)return[];for(var t=[],n=e.length,r=0;r<n;r++)void 0===e[r]?t.push(null):t.push(e[r]);return t}function p(e,t,n){if(t){var r=function(e,t){if(!t)return e;if(0===Object.keys(t).length)return e;for(var n=[],r=e.length,a=0;a<r;a++){for(var u=e[a],c={},s=0,i=Object.keys(u);s<i.length;s++){var o=i[s],l=t[o];l||(l=o),c[l]=u[o]}n.push(c)}return n}(e,t);return n&&n.length>0?x(r,n):r}return n&&n.length>0?x(e,n):e}function x(e,t){if(!t||0===t.length||!e)return e;var n,r=Object(o.a)(e);try{for(r.s();!(n=r.n()).done;){var a,u=n.value,c=Object(o.a)(t);try{for(c.s();!(a=c.n()).done;){var s=a.value,i=u[s.name];if(null!=i&&void 0!==i){var l=s.true;u[s.name]=null==l||void 0===l?"1"==i||"T"==i||"Y"==i||"true"==i:i==l}}}catch(d){c.e(d)}finally{c.f()}}}catch(d){r.e(d)}finally{r.f()}return e}var y=n(0);var g=function(){var e=function(){var e=window.sqlitePlugin.openDatabase("database.db","1.0","user database",1e6),t=Object(r.useState)([]),n=Object(s.a)(t,2),a=n[0],u=n[1],c=new f(e);Object(r.useEffect)((function(){i()}),[]);var i=function(){c.exec("CREATE TABLE IF NOT EXISTS users(\n      userId TEXT PRIMARY KEY NOT NULL,\n      name TEXT,\n      email TEXT,\n      status BOOLEAN\n    )")};return{database:e,all:function(){return c.query("select * from users").then((function(e){return u(e)}))},insert:function(e){var t=[e.userId,e.name,e.email,e.status];c.exec("INSERT INTO users (userId, name, email, status) VALUES (?,?,?,?)",t).then((function(){alert("Insert Success!")})).catch((function(){return alert("Insert Failed!")}))},users:a,deleteUser:function(e){var t=[e];c.exec("DELETE FROM users WHERE userId = ?",t).then((function(){alert("Delete Success!")})).catch((function(){return alert("Delete Failed!")}))},load:function(e){var t=[e];return c.queryOne("SELECT * FROM users WHERE userId = ?",t).then((function(e){u(e)}))},update:function(e){var t=[e.name,e.email,e.status,e.userId];c.exec("UPDATE users SET name=?,email=?,status=? WHERE userId=?",t).then((function(){alert("Update Success!")})).catch((function(){alert("Update Failed!")}))},insertMany:function(e){var t=e.map((function(e){return{query:"INSERT INTO users (userId, name, email, status) VALUES (?,?,?,?)",params:[e.userId,e.name,e.email,e.status]}}));return c.execBatch(t).then((function(){console.log({statements:t}),alert("Success!")})).catch((function(){return alert("Rollback!")}))}}}(),t=Object(r.useState)({userId:null,name:"",email:"",status:!1}),n=Object(s.a)(t,2),a=n[0],u=n[1],o=Object(r.useState)(""),l=Object(s.a)(o,2),d=l[0],h=l[1],b=Object(r.useState)(""),j=Object(s.a)(b,2),v=j[0],O=j[1],m=function(){e.all().then((function(e){return console.log(e)}))};return Object(y.jsx)("div",{className:"App",children:Object(y.jsxs)("header",{className:"App-header",children:[Object(y.jsx)("img",{src:i,className:"App-logo",alt:"logo"}),Object(y.jsx)("div",{className:"list-user",children:e.users?e.users.map((function(e){return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("p",{children:["User Name: ",e.name]}),Object(y.jsxs)("p",{children:["Email: ",e.email]}),Object(y.jsx)("hr",{})]})})):Object(y.jsx)("p",{children:"Hello World!"})}),Object(y.jsx)("button",{onClick:m,children:"Fetch"}),Object(y.jsx)("div",{style:{display:"contents"},children:Object(y.jsx)("input",{value:v,placeholder:"Input Id",onChange:function(e){O(e.target.value)}})}),Object(y.jsx)("button",{onClick:function(){e.load(v),O("")},children:"Load"}),Object(y.jsxs)("div",{style:{display:"contents"},children:[Object(y.jsx)("input",{value:a.userId,placeholder:"userId",onChange:function(e){u((function(t){return Object(c.a)(Object(c.a)({},t),{},{userId:e.target.value})}))}}),Object(y.jsx)("input",{value:a.name,placeholder:"name",onChange:function(e){u((function(t){return Object(c.a)(Object(c.a)({},t),{},{name:e.target.value})}))}}),Object(y.jsx)("input",{value:a.email,placeholder:"email",onChange:function(e){u((function(t){return Object(c.a)(Object(c.a)({},t),{},{email:e.target.value})}))}})]}),Object(y.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(y.jsx)("button",{onClick:function(){e.insert(a),u((function(e){return Object(c.a)(Object(c.a)({},e),{},{userId:null,name:"",email:"",status:!1})})),m()},children:"Insert"}),Object(y.jsx)("button",{onClick:function(){e.update(a),u({userId:null,name:"",email:"",status:!1}),m()},children:"Update"})]}),Object(y.jsx)("button",{onClick:function(){e.insertMany([{userId:"5",name:"5",email:"5",status:!1},{userId:"6",name:"6",email:"6",status:!1},{userId:"6",name:"7",email:"7",status:!1},{userId:"8",name:"8",email:"8",status:!1}])},children:"Insert Many"}),Object(y.jsx)("div",{style:{display:"contents"},children:Object(y.jsx)("input",{value:d,placeholder:"Delete Id",onChange:function(e){h(e.target.value)}})}),Object(y.jsx)("button",{onClick:function(){e.deleteUser(d),h(""),m()},children:"Delete"})]})})},I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,18)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,u=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),u(e),c(e)}))},E=function(){u.a.render(Object(y.jsx)(g,{}),document.getElementById("root"))};window.cordova?document.addEventListener("deviceready",(function(){E()}),!1):E(),I()}},[[17,1,2]]]);
//# sourceMappingURL=main.be3b3e98.chunk.js.map