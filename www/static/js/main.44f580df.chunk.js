(this["webpackJsonpio.cordova.hellocordova"]=this["webpackJsonpio.cordova.hellocordova"]||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var r=n(1),u=n(9),c=n.n(u),a=(n(14),n(2)),s=n(4),i=n.p+"static/media/logo.6ce24c58.svg",o=(n(15),n(3)),l=n(5),f=n(6);var d=function(){function e(t){Object(l.a)(this,e),this.database=t,this.exec=this.exec.bind(this),this.execBatch=this.execBatch.bind(this),this.query=this.query.bind(this),this.queryOne=this.queryOne.bind(this),this.execScalar=this.execScalar.bind(this),this.count=this.count.bind(this)}return Object(f.a)(e,[{key:"exec",value:function(e,t){return b(this.database,e,t)}},{key:"execBatch",value:function(e,t){return h(this.database,e,t)}},{key:"query",value:function(e,t,n,r){return j(this.database,e,t,n,r)}},{key:"queryOne",value:function(e,t,n,r){return m(this.database,e,t,n,r)}},{key:"execScalar",value:function(e,t){return v(this.database,e,t)}},{key:"count",value:function(e,t){return function(e,t,n){return v(e,t,n)}(this.database,e,t)}}]),e}();function h(e,t,n){return t&&0!==t.length?1===t.length?b(e,t[0].query,t[0].params):new Promise(n?function(n,r){return e.transaction((function(e){return e.executeSql(t[0].query,t[0].params,(function(n,r){r&&r.rowsAffected>0&&t.slice(1).forEach((function(t){e.executeSql(t.query,O(t.params))}))}),(function(e){return r(e)}))}),(function(e){r(e)}),(function(){n(1)}))}:function(n,r){return e.transaction((function(e){t.forEach((function(t){e.executeSql(t.query,O(t.params))}))}),(function(e){console.log(e),r(e)}),(function(){n(1)}))}):Promise.resolve(0)}function b(e,t,n){var r=O(n);return e.executeSql?new Promise((function(n,u){e.executeSql(t,r,(function(e,t){return t&&t.rowsAffected>0?n(1):t?void 0:u(0)}))})):(console.log("db does not have executeSql fuction"),new Promise((function(n,u){return e.transaction((function(e){console.log("trans",e.executeSql),e.executeSql(t,r,(function(e,t){if(t&&t.rowsAffected>0)return n(1)}))}),(function(e){console.log(e),u(e)}),(function(){n(1)}))})))}function j(e,t,n,r,u){var c=n||[];return console.log(e),e.executeSql?new Promise((function(n,a){e.executeSql(t,c,(function(e,t){return n(p(t.rows._array,r,u))}))})):new Promise((function(n,a){return e.transaction((function(e){e.executeSql(t,c,(function(e,t){return n(p(t.rows._array,r,u))}))}),(function(e){a(e)}))}))}function m(e,t,n,r,u){var c=n||[];return e.executeSql?new Promise((function(n,a){e.executeSql(t,c,(function(e,t){return t.rows&&t.rows._array&&t.rows.length>0?n(x(t.rows._array,r,u)):n(null)}))})):new Promise((function(n,a){return e.transaction((function(e){e.executeSql(t,c,(function(e,t){return console.log({tx:e},{result:t}),t.rows&&t.rows._array&&t.rows.length>0?n(x(t.rows._array,r,u)):n(null)}))}),(function(e){a(e)}))}))}function v(e,t,n){return m(e,t,n).then((function(e){return e?e[Object.keys(e)[0]]:null}))}function O(e){if(!e||0===e.length)return[];for(var t=[],n=e.length,r=0;r<n;r++)void 0===e[r]?t.push(null):t.push(e[r]);return t}function x(e,t,n){return null!=e&&void 0!==e&&(t||n&&0!==n.length)?(p([e],t,n),e):e}function p(e,t,n){if(t){var r=function(e,t){if(!t)return e;if(0===Object.keys(t).length)return e;for(var n=[],r=e.length,u=0;u<r;u++){for(var c=e[u],a={},s=0,i=Object.keys(c);s<i.length;s++){var o=i[s],l=t[o];l||(l=o),a[l]=c[o]}n.push(a)}return n}(e,t);return n&&n.length>0?y(r,n):r}return n&&n.length>0?y(e,n):e}function y(e,t){if(!t||0===t.length||!e)return e;var n,r=Object(o.a)(e);try{for(r.s();!(n=r.n()).done;){var u,c=n.value,a=Object(o.a)(t);try{for(a.s();!(u=a.n()).done;){var s=u.value,i=c[s.name];if(null!=i&&void 0!==i){var l=s.true;c[s.name]=null==l||void 0===l?"1"==i||"T"==i||"Y"==i||"true"==i:i==l}}}catch(f){a.e(f)}finally{a.f()}}}catch(f){r.e(f)}finally{r.f()}return e}var g=n(0);var I=function(){var e=function(){var e=window.sqlitePlugin.openDatabase("database.db","1.0","user database",1e6),t=Object(r.useState)([]),n=Object(s.a)(t,2),u=n[0],c=n[1],a=new d(e);Object(r.useEffect)((function(){i()}),[]);var i=function(){a.exec("CREATE TABLE IF NOT EXISTS users(\n      userId TEXT PRIMARY KEY NOT NULL,\n      name TEXT,\n      email TEXT,\n      status BOOLEAN\n    )")};return{database:e,all:function(){return a.query("select * from users").then((function(e){return c(e)}))},insert:function(e){var t=[e.userId,e.name,e.email,e.status];a.exec("INSERT INTO users (userId, name, email, status) VALUES (?,?,?,?)",t).then((function(){alert("Insert Success!")})).catch((function(){return alert("Insert Failed!")}))},users:u,deleteUser:function(e){var t=[e];a.exec("DELETE FROM users WHERE userId = ?",t).then((function(){alert("Delete Success!")})).catch((function(){return alert("Delete Failed!")}))},load:function(e){var t=[e];return a.queryOne("SELECT * FROM users WHERE userId = ?",t).then((function(e){c(e)}))},update:function(e){var t=[e.name,e.email,e.status,e.userId];a.exec("UPDATE users SET name=?,email=?,status=? WHERE userId=?",t).then((function(){alert("Update Success!")})).catch((function(){alert("Update Failed!")}))},insertMany:function(e){var t=e.map((function(e){return{query:"INSERT INTO users (userId, name, email, status) VALUES (?,?,?,?)",params:[e.userId,e.name,e.email,e.status]}}));return a.execBatch(t,!0).then((function(){alert("Success!")})).catch((function(){return alert("Rollback!")}))}}}(),t=Object(r.useState)({userId:null,name:"",email:"",status:!1}),n=Object(s.a)(t,2),u=n[0],c=n[1],o=Object(r.useState)(""),l=Object(s.a)(o,2),f=l[0],h=l[1],b=Object(r.useState)(""),j=Object(s.a)(b,2),m=j[0],v=j[1],O=function(){e.all().then((function(e){return console.log(e)}))};return Object(g.jsx)("div",{className:"App",children:Object(g.jsxs)("header",{className:"App-header",children:[Object(g.jsx)("img",{src:i,className:"App-logo",alt:"logo"}),Object(g.jsx)("div",{className:"list-user",children:e.users?e.users.map((function(e){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("p",{children:["User Name: ",e.name]}),Object(g.jsxs)("p",{children:["Email: ",e.email]}),Object(g.jsx)("hr",{})]})})):Object(g.jsx)("p",{children:"Hello World!"})}),Object(g.jsx)("button",{onClick:O,children:"Fetch"}),Object(g.jsx)("div",{style:{display:"contents"},children:Object(g.jsx)("input",{value:m,placeholder:"Input Id",onChange:function(e){v(e.target.value)}})}),Object(g.jsx)("button",{onClick:function(){e.load(m),v("")},children:"Load"}),Object(g.jsxs)("div",{style:{display:"contents"},children:[Object(g.jsx)("input",{value:u.userId,placeholder:"userId",onChange:function(e){c((function(t){return Object(a.a)(Object(a.a)({},t),{},{userId:e.target.value})}))}}),Object(g.jsx)("input",{value:u.name,placeholder:"name",onChange:function(e){c((function(t){return Object(a.a)(Object(a.a)({},t),{},{name:e.target.value})}))}}),Object(g.jsx)("input",{value:u.email,placeholder:"email",onChange:function(e){c((function(t){return Object(a.a)(Object(a.a)({},t),{},{email:e.target.value})}))}})]}),Object(g.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(g.jsx)("button",{onClick:function(){e.insert(u),c((function(e){return Object(a.a)(Object(a.a)({},e),{},{userId:null,name:"",email:"",status:!1})})),O()},children:"Insert"}),Object(g.jsx)("button",{onClick:function(){e.update(u),c({userId:null,name:"",email:"",status:!1}),O()},children:"Update"})]}),Object(g.jsx)("button",{onClick:function(){e.insertMany([{userId:"5",name:"5",email:"5",status:!1},{userId:"6",name:"6",email:"6",status:!1},{userId:"7",name:"7",email:"7",status:!1},{userId:"8",name:"8",email:"8",status:!1}])},children:"Insert Many"}),Object(g.jsx)("div",{style:{display:"contents"},children:Object(g.jsx)("input",{value:f,placeholder:"Delete Id",onChange:function(e){h(e.target.value)}})}),Object(g.jsx)("button",{onClick:function(){e.deleteUser(f),h(""),O()},children:"Delete"})]})})},S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,18)).then((function(t){var n=t.getCLS,r=t.getFID,u=t.getFCP,c=t.getLCP,a=t.getTTFB;n(e),r(e),u(e),c(e),a(e)}))},E=function(){c.a.render(Object(g.jsx)(I,{}),document.getElementById("root"))};window.cordova?document.addEventListener("deviceready",(function(){E()}),!1):E(),S()}},[[17,1,2]]]);
//# sourceMappingURL=main.44f580df.chunk.js.map